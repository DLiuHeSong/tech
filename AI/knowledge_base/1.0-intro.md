# GPT 知识库系统架构白皮书

---

## 第一章：基础概念

### 1.1 什么是数据集？

数据集（Dataset）指的是结构化或非结构化的数据集合，是大模型应用的基础输入材料。

* 📄 文本类：PDF、Word、TXT、网页、日志等
* 📊 表格类：CSV、Excel、数据库导出
* 🖼️ 图像类：扫描件、截图、图表（需 OCR）
* 🔊 音视频类：语音、视频字幕（需转录）

### 1.2 什么是知识库？

知识库（Knowledge Base）是在数据集基础上，加入了结构化索引、语义表示、逻辑组织和推理能力的系统。
核心特征：

* 检索能力（语义、关键词、标签）
* 上下文管理（元数据、归属关系）
* 支持推理与生成（通常结合 GPT）

### 1.3 数据集 ≠ 知识库

| 项目       | 数据集       | 知识库              |
| -------- | --------- | ---------------- |
| 定位       | 原始内容      | 结构化后、可检索可问答的数据结构 |
| 示例       | PDF/网页/图片 | 向量库、图谱、FAQ问答库    |
| 能否直接问GPT | ❌ 需处理     | ✅ 可用于问答生成        |

---

## 第二章：知识库的组成与流程

### 2.1 组成模块

1. **原始数据内容**（段落、图像、OCR文本）
2. **切分逻辑（Chunking）**：按内容块拆分
3. **Embedding 向量**：每段文本语义向量化
4. **元数据 Metadata**：来源、作者、分类、位置
5. **索引 Index**：用于快速匹配与检索

### 2.2 构建流程

```text
原始数据 → 分段处理 → 向量表示 → 存入向量数据库 → 构建知识库索引
```

### 2.3 示例结构

```json
{
  "text": "候选人具备Java开发经验...",
  "vector": [0.0123, -0.0045, ..., 0.008],
  "metadata": {
    "source": "resume_张三.pdf",
    "page": 2,
    "tags": ["Java", "后端"]
  }
}
```

---

## 第三章：典型应用场景

### 3.1 企业知识问答系统

* 内网资料、规范、技术文档
* 结合 GPT 实现智能客服、员工助手

### 3.2 简历分析 & JD 匹配系统

* 向量化简历片段 → 检索匹配 JD 要求 → GPT 总结推荐人选

### 3.3 多角色助手系统

* 不同角色绑定不同知识库（法务、HR、销售等）
* 自定义 Prompt 模板与调用链（Agent + Tools）

### 3.4 数据集协同构建平台

* 用户上传数据 → 系统自动处理为私有知识库
* 可多人协作、版本管理、权限控制

---

## 第四章：GPT如何调用知识库

### 4.1 检索增强生成（RAG）流程

1. 用户提问（自然语言）
2. 将问题向量化 → 检索 Top-K 相似内容片段
3. 组合 Prompt（问题 + 相关知识片段）
4. 发送给 GPT → 返回生成结果

### 4.2 Prompt 示例

```
问题：谁具备 Java 能力？
以下是相关简历片段：
- 张三：熟悉Java开发，参与过后端微服务架构
- 李四：C++背景，未提及Java
请输出符合条件的候选人名单和理由。
```

### 4.3 多轮问答 & 跟踪

* 将历史问题和回复作为上下文组成新 Prompt
* 支持 ID 定位源片段 → 二次查证或溯源

---

## 第五章：架构设计与多用户支持

### 5.1 多租户数据隔离

* 用户A上传的数据，只能用于自己构建问答助手
* 支持用户级别向量数据库、私有索引

### 5.2 数据集组织能力

| 功能     | 描述            |
| ------ | ------------- |
| 项目维度管理 | 每个业务场景一个数据集组合 |
| 标签系统   | 文本块添加业务标签     |
| 版本控制   | 每次上传、改动自动生成版本 |
| 多数据集组合 | 可配置组合使用多个库    |

### 5.3 模块化组件建议

* 数据导入器（PDF/网页/图像）
* 分段器（按标题、语义）
* Embedding 接口（OpenAI / BGE）
* 向量库（Faiss / Qdrant / Chroma）
* RAG引擎（LangChain / LlamaIndex）

---

## 第六章：高级能力拓展

### 6.1 结构化数据问答（表格、数据库）

* 表格数据向量化（每行或每列为一个语义单元）
* 可问：“哪个产品销量最高？”

### 6.2 跨模态支持（图文/语音）

* 图像 + OCR 文本一起向量化
* 音频转文本后加入知识库（如面试录音）

### 6.3 推荐与排序能力

* 向量检索后 → GPT 参与排序打分
* 支持排序标准自定义：相关性、可信度、时效性

---

## 第七章：设计建议与常见问题

### 7.1 信息丢失问题

* 向量检索只匹配局部片段 → 需 metadata 回溯原文
* 推荐方式：

  * Top-K召回后 → 提取完整原始文本 → 再交给GPT

### 7.2 性能与成本

* 向量化可缓存或批处理
* 支持轻量 embedding 模型本地部署（如 BGE-small）
* 多层召回策略：粗筛（向量）+ 细筛（GPT）

### 7.3 Prompt 工程关键技巧

* 明确角色设定：你是XXX助手
* 加入示例示意（Few-shot）
* 明确问题语气：是否判断型、归因型、总结型

---

## 附录：关键词表

| 关键词        | 含义                                    |
| ---------- | ------------------------------------- |
| RAG        | Retrieval Augmented Generation 检索增强生成 |
| Embedding  | 把自然语言文本转成高维向量的过程                      |
| 向量数据库      | 存储语义向量 + 支持相似度检索的系统，如 Faiss、Qdrant    |
| LangChain  | GPT 应用的工作流框架，支持 Agent、工具调用等           |
| LlamaIndex | 文档向量化 + 检索 + GPT 的集成框架                |
| Metadata   | 数据的来源、位置、标签等辅助信息，用于回溯                 |

---
---

#### [`下一章` 1.1 向量是什么？现实中存在吗？](/AI/knowledge_base/1.1-embedding.md)
